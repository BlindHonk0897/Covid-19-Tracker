(this["webpackJsonpcovid-tracker-2020"]=this["webpackJsonpcovid-tracker-2020"]||[]).push([[0],{110:function(e,t,n){},112:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},215:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),s=n.n(c),r=n(13),o=n.n(r),i=(n(110),n(40)),l=n(29),u=n.n(l),d=n(37),j=n(18),f=n(249),h=n(253),b=n(32),p=n(254);n(112);var O=function(e){var t=e.title,n=e.cases,c=e.isRed,s=e.active,r=e.total,o=Object(b.a)(e,["title","cases","isRed","active","total"]);return Object(a.jsx)(f.a,{onClick:o.onClick,className:"infoBox ".concat(s&&"infoBox--selected"," ").concat(c&&"infoBox--red"),children:Object(a.jsxs)(h.a,{children:[Object(a.jsx)(p.a,{className:"infoBox__title",gutterBottom:!0,children:t}),Object(a.jsx)("h2",{className:"infoBox__cases ".concat(!c&&"infoBox_cases--green"),children:n}),Object(a.jsxs)(p.a,{className:"infoBox__total",children:[r," Total"]})]})})},v=(n(116),n(263)),m=n(260),x=n(94),g=n(16),y=n.n(g),C=n(259),_=n(261),w={cases:{hex:"#CC1034",rgb:"rgb(204, 16, 52)",half_op:"rgba(204, 16, 52, 0.5)",multiplier:800},recovered:{hex:"#7dd71d",rgb:"rgb(125, 215, 29)",half_op:"rgba(125, 215, 29, 0.5)",multiplier:1200},deaths:{hex:"#fb4443",rgb:"rgb(251, 68, 67)",half_op:"rgba(251, 68, 67, 0.5)",multiplier:2e3}},N=function(e){return Object(x.a)(e).sort((function(e,t){return e.cases>t.cases?-1:1}))},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";return e.map((function(e){return Object(a.jsx)(C.a,{center:[e.countryInfo.lat,e.countryInfo.long],color:w[t].hex,fillColor:w[t].hex,fillOpacity:.4,radius:Math.sqrt(e[t])*w[t].multiplier,children:Object(a.jsx)(_.a,{children:Object(a.jsxs)("div",{className:"info-container",children:[Object(a.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),Object(a.jsx)("div",{className:"info-name",children:e.country}),Object(a.jsxs)("div",{className:"info-confirmed",children:["Cases: ",y()(e.cases).format("0,0")]}),Object(a.jsxs)("div",{className:"info-recovered",children:["Recovered: ",y()(e.recovered).format("0,0")]}),Object(a.jsxs)("div",{className:"info-deaths",children:["Deaths: ",y()(e.deaths).format("0,0")]})]})})})}))},S=function(e){return e?"+".concat(y()(e).format("0.0a")):"+0"};var I=function(e){var t=e.countries,n=e.casesType,c=e.center,s=e.zoom;return Object(b.a)(e,["countries","casesType","center","zoom"]),Object(a.jsx)("div",{className:"map",children:Object(a.jsxs)(v.a,{center:c,zoom:s,children:[Object(a.jsx)(m.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),k(t,n)]})})};n(117);var T=function(e){var t=e.countries;return Object(a.jsx)("div",{className:"table",children:t.map((function(e){var t=e.country,n=e.cases;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t}),Object(a.jsx)("td",{children:Object(a.jsx)("strong",{children:y()(n).format("0,0")})})]})}))})},B=(n(118),n(91)),R={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return y()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,n){return y()(e).format("0a")}}}]}},D=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases",a=[];for(var c in e.cases){if(t){var s={x:c,y:e[n][c]-t};a.push(s)}t=e[n][c]}return a};var z=function(e){var t=e.casesType,n=void 0===t?"cases":t,s=Object(b.a)(e,["casesType"]),r=Object(c.useState)({}),o=Object(j.a)(r,2),i=o[0],l=o[1];return Object(c.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=120").then((function(e){return e.json()})).then((function(e){var t=D(e,n);l(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(a.jsx)("div",{className:s.className,children:(null===i||void 0===i?void 0:i.length)>0&&Object(a.jsx)(B.Line,{options:R,data:{datasets:[{backgroundColor:"recovered"===n?"#7dd71d":"rgba(204,16,52,0.5)",borderColor:"recovered"===n?"#1CCD08":"#CC1034",data:i}]}})})},F=n(257),L=n(258),M=n(255),E=(n(214),Object(M.a)({option:{fontSize:15,"& > span":{marginRight:10,fontSize:18}}})),P=function(){var e=Object(c.useState)("worldwide"),t=Object(j.a)(e,2),n=(t[0],t[1]),r=Object(c.useState)({}),o=Object(j.a)(r,2),l=o[0],b=o[1],p=Object(c.useState)([]),v=Object(j.a)(p,2),m=v[0],x=v[1],g=Object(c.useState)([]),C=Object(j.a)(g,2),_=C[0],w=C[1],k=Object(c.useState)([]),B=Object(j.a)(k,2),R=B[0],D=B[1],M=Object(c.useState)("cases"),P=Object(j.a)(M,2),A=P[0],W=P[1],J=Object(c.useState)({lat:34.80746,lng:-40.4796}),V=Object(j.a)(J,2),Y=V[0],q=V[1],H=Object(c.useState)(3),G=Object(j.a)(H,2),K=G[0],Q=G[1],U=E();Object(c.useEffect)((function(){fetch("https://disease.sh/v3/covid-19/all").then((function(e){return e.json()})).then((function(e){b(e)}))}),[]),Object(c.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.country,value:e.countryInfo.iso2}})),n=N(e);t.unshift({name:"Worldwide",value:"worldwide"}),x(t),w(e),D(n)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var X=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null==a?"worldwide":a.value,s="worldwide"===c?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(c),e.next=4,fetch(s).then((function(e){return e.json()})).then((function(e){n(c),b(e);try{q([e.countryInfo.lat,e.countryInfo.long])}catch(t){q({lat:34.80746,lng:-40.4796})}Q(4)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsxs)("div",{className:"app__left",children:[Object(a.jsxs)("div",{className:"app__header",children:[Object(a.jsx)("h1",{children:"COVID-19 Tracker"}),Object(a.jsx)(L.a,{id:"country-select-demo",style:{width:300},options:m,classes:{option:U.option},autoHighlight:!0,getOptionLabel:function(e){return e.name},renderOption:function(e){return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)("span",{}),e.name," (",e.value,")"]})},defaultValue:{name:"Worldwide",value:"worldwide"},renderInput:function(e){return Object(a.jsx)(F.a,Object(i.a)(Object(i.a)({},e),{},{label:"Choose a country",variant:"outlined",className:"Input",inputProps:Object(i.a)(Object(i.a)({},e.inputProps),{},{autoComplete:"new-password"})}))},onChange:X})]}),Object(a.jsxs)("div",{className:"app__stats",children:[Object(a.jsx)(O,{onClick:function(e){return W("cases")},title:"Coronavirus Cases",isRed:!0,active:"cases"===A,cases:S(l.todayCases),total:y()(l.cases).format("0.0a")}),Object(a.jsx)(O,{onClick:function(e){return W("recovered")},title:"Recovered",active:"recovered"===A,cases:S(l.todayRecovered),total:y()(l.recovered).format("0.0a")}),Object(a.jsx)(O,{onClick:function(e){return W("deaths")},title:"Deaths",isRed:!0,active:"deaths"===A,cases:S(l.todayDeaths),total:y()(l.deaths).format("0.0a")})]}),Object(a.jsx)(I,{countries:_,casesType:A,center:Y,zoom:K})]}),Object(a.jsx)(f.a,{className:"app__right",children:Object(a.jsx)(h.a,{children:Object(a.jsxs)("div",{className:"app__information",children:[Object(a.jsx)("h3",{className:"app__tableTitle",children:"Live Cases by Country"}),Object(a.jsx)(T,{countries:R}),Object(a.jsxs)("h3",{className:"app__graphTitle",children:["Worldwide new ",A]}),Object(a.jsx)(z,{className:"app__graph",casesType:A})]})})})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,264)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root")),A()}},[[215,1,2]]]);
//# sourceMappingURL=main.d0b8fbad.chunk.js.map